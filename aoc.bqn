#!/usr/bin/env cbqn
lib â† â€¢Import "bqn/lib.bqn"

Fill â† { template ğ•Š value: valueâˆ¾Ëœ(template -â—‹â‰  value)â†‘template }

yearâ€¿dayâ€¿partâ€¿progâ€¿datafile â† {
  ğ•Š âŸ¨year,dayâŸ©:
    y â† "2020" Fill year,
    d â† "00" Fill day,
    âŸ¨
      y,
      d,
      3,
      lib.AbsolutePath "bqn/"âˆ¾yâˆ¾"/day"âˆ¾dâˆ¾".bqn",
      lib.AbsolutePath "data/"âˆ¾yâˆ¾"/input-day"âˆ¾dâˆ¾".txt"
    âŸ©;
  ğ•Š âŸ¨year,day,partâŸ©:
    y â† "2020" Fill year,
    d â† "00" Fill day,
    âŸ¨
      y,
      d,
      â€¢BQN part,
      lib.AbsolutePath "bqn/"âˆ¾yâˆ¾"/day"âˆ¾dâˆ¾".bqn",
      lib.AbsolutePath "data/"âˆ¾yâˆ¾"/input-day"âˆ¾dâˆ¾".txt"
    âŸ©;
  ğ•Š âŸ¨year,day,part,sufâŸ©:
    y â† "2020" Fill year,
    d â† "00" Fill day,
    âŸ¨
      y,
      d,
      â€¢BQN part,
      lib.AbsolutePath "bqn/"âˆ¾yâˆ¾"/day"âˆ¾dâˆ¾".bqn",
      lib.AbsolutePath "data/"âˆ¾yâˆ¾"/input-day"âˆ¾dâˆ¾"-"âˆ¾sufâˆ¾".txt",
    âŸ©
  ;
    lib.color.red lib.term.Outln "This aoc driver takes YEAR DAY PART [ALT]"
    â€¢Exit 1
} â€¢args
â€¢Out "Year "âˆ¾yearâˆ¾" Day "âˆ¾dayâˆ¾" on: "âˆ¾datafile
bqn â† â€¢Import prog
{ 2|part     ? â€¢Out "Part1: "âˆ¾â€¢Fmt 1 bqn.Run â€¢FLines datafile; @ }
{ 2|âŒŠ2Ã·Ëœpart ? â€¢Out "Part2: "âˆ¾â€¢Fmt 2 bqn.Run â€¢FLines datafile; @ }
