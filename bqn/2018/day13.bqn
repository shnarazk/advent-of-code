Solve â‡ {envâ€¿part ğ•Š data :
  util â† â€¢Import "/util.bqn"âˆ¾Ëœ"." env.VarâŒ¾â‹ˆ "BQN_LIB"
  dir â† âŸ¨Â¯1â€¿0,0â€¿Â¯1,0â€¿1,1â€¿0âŸ©
  symbol â† " /-\|+^<>v"
  data > â†©
  data symbolâŠ¸âŠâŒ¾â‹ˆÂ¨ â†©
  Clash â† â‰ â—‹â‰ âŸœâ·1âŠ¸âŠ‘Â¨
  Next â† {
    d â† âŠâŸœdir-âŸœ6 os â† âŠ‘Â¨ğ•©
    newpos â† dâŠ¸+âŒ¾(1âŠ¸âŠ‘Â¨)ğ•©
    # FIXME
    >â‰dâ‰newpos
    ğ•©âˆ¾ğ•©
  }
  {
    1=part ?
      orientation â† âŠ‘dir
      locations â† âˆ¾{ğ•©âŠ¸â‹ˆÂ¨(ğ•©=âŠ‘âŸœdata)Â¨âŠ¸/â¥Šâ†•â‰¢data}Â¨6+â†•4
      âˆ§1âŠ¸âŠ‘Â¨locations
      3â†‘terminal â† Nextâ€¢_while_(Â¬Clash)locations
    ;
    0
  }
}
