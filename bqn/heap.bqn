Heap â† {ğ•¤
  l â† âŸ¨0âŸ©
  Dump â‡ { ğ•¤ â‹„ l }
  Push â‡ {
    k â† â‰ l
    l â†© lâˆ¾âŸ¨ğ•©âŸ©
    â€¢Show "last index "â€¿k
    ShiftUp k
  }
  ShiftUp â† {
    ğ•Š 1: @;
    ğ•Š n: {
      r â† 2|n
      m â† 2Ã·Ëœn-r
      âŸ¨p, câŸ© â† âŸ¨mâŠ‘l, nâŠ‘lâŸ©
      â€¢Show "ShiftUp to "â€¿âŸ¨m, p, c, c â‰¤ pâŸ©
      {
        c â‰¤ p ?
          l â†© pË™âŒ¾(nâŠ¸âŠ‘) cË™âŒ¾(mâŠ¸âŠ‘) l
          ShiftUp m;
        @
      } 
    }
  }
  Pop â‡ { ğ•¤
    # TODO: use swapping with the last element approarch
    v â† âŠ‘l
    l â†© 1â†“l
    Shiftdown 1
    v
  }
  ShiftDown â† { 
    âŸ¨n1, n2âŸ© â† âŸ¨Â¯1+2â‹†ğ•©, 2â‹†ğ•©âŸ©
    {
      (â‰ l)<n1 ? @;
      (â‰ l)=n1 ? âŸ¨p, câŸ© â† âŸ¨ğ•©âŠ‘l, n1âŠ‘lâŸ© â‹„ l â†© cË™âŒ¾(ğ•©âŠ¸âŠ‘) pË™âŒ¾(n1âŠ¸âŠ‘) l; 
        âŸ¨c1, c2âŸ© â† âŸ¨n1âŠ‘l, n2âŠ‘lâŸ©
        {
          c1â‰¤c2 ? l â†© c1Ë™âŒ¾(ğ•©âŠ¸âŠ‘) l â‹„ ğ•Š n1; l â†© c2Ë™âŒ¾(ğ•©âŠ¸âŠ‘) l â‹„ ğ•Š n2
        }
    }
  }
}

h â† Heap @
â€¢Show h.Dump @
h.Push 1
h.Push 10
h.Push 50
h.Push 4
h.Push 20
h.Push 3
h.Push 8
h.Push 2
â€¢Show h.Dump @
