#!/usr/bin/env cbqn
âŸ¨DataFileâŸ© â† â€¢Import "../lib.bqn"
map â† (â‹ˆËœâˆ˜âˆšâˆ˜â‰ )âŠ¸â¥Šâˆ¾'0'-ËœËœËœ â€¢FLines "data/2022/input-day08.txt" DataFile â€¢args
Sight â† {ğ•Š âŸ¨w,xâŸ©: w ((xâŠ¸(â‹ˆËœ)Â¨Â¨âŠ£)âˆ¾(wâŠ¸â‹ˆÂ¨Â¨âŠ¢))â—‹{ğ•Š p:{p>ğ•©?Â¯1+p-ğ•©;ğ•©}Â¨Â¨p((âŠ¢-Ëœ+`Ã—Â¬)âˆ˜=âŠ”âŠ¢)â†•1âŠ‘â‰¢map} x}
_alldirs_ â† {F _ğ•£_ G ğ•©: {w H dirs: 4=â‰ dirs ? GÂ´{w F ğ•©}Â¨dirs; 0}âŸœSight ğ•©}
â€¢Show +Â´Â¬Â¨({w F xs: âˆ¨Â´{wâ‰¤â—‹(mapË™âŠ¸(âŠ‘Ëœ))ğ•©}Â¨xs}_alldirs_ âˆ§)Â¨â¥Š(â‹ˆâŒœâ—‹â†•)Â´â‰¢map
â€¢Show âŒˆÂ´({w F xs: (â‰ xs)âŒŠ1+âŠ‘âŸ¨1âŸ©âŠËœ{wâ‰¤â—‹(mapË™âŠ¸(âŠ‘Ëœ))ğ•©}Â¨xs}_alldirs_ Ã—)Â¨â¥Š(â‹ˆâŒœâ—‹â†•)Â´â‰¢map
