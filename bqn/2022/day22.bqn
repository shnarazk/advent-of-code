Solve â‡ {envâ€¿part ğ•Š data :
  util â† â€¢Import "/util.bqn"âˆ¾Ëœ"." env.VarâŒ¾â‹ˆ "BQN_LIB"
  width â† âŒˆÂ´â‰ Â¨Â¯1â†“data
  "map size" util.Debug â‰¢map â† >widthâŠ¸â†‘Â¨Â¯1â†“data
  "map" util.Debug map
  "horizontal slice 0" util.Debug âŠâ‰2 map
  "horizontal slice 1" util.Debug 1âŠâ‰2 map
  "vertical slice 0" util.Debug âŠâ‰1 map
  "vertical slice 2" util.Debug 2âŠâ‰1 map
  Warp â† {loc ğ•Š vec :
    âŸ¨Â¯1, 0âŸ©â‰¡ğ•© ? (1âŠ‘ğ•¨)âˆ¾ËœÂ¯1âŠ‘1âŠ‘âŠ”' 'â‰ (1âŠ‘ğ•¨)âŠâ‰1 map ;
    âŸ¨ 1, 0âŸ©â‰¡ğ•© ? (1âŠ‘ğ•¨)âˆ¾Ëœ  âŠ‘1âŠ‘âŠ”' 'â‰ (1âŠ‘ğ•¨)âŠâ‰1 map ;
    âŸ¨ 0,Â¯1âŸ©â‰¡ğ•© ?  (âŠ‘ğ•¨)âˆ¾ Â¯1âŠ‘1âŠ‘âŠ”' 'â‰ (âŠ‘ğ•¨)âŠâ‰2 map ;
    âŸ¨ 0, 1âŸ©â‰¡ğ•© ?  (âŠ‘ğ•¨)âˆ¾   âŠ‘1âŠ‘ util.Debug âŠ”' 'â‰ (âŠ‘ğ•¨)âŠâ‰2 map ;
    !0
  }
  "# path" util.Debug (20âŒŠâ‰ )âŠ¸â†‘path â† âˆ¾âŸœ"â†’"Â¯1âŠ‘data
  "# parse" util.Debug (+`pathâˆŠ"LRâ†’")
  "# group" util.Debug (0âˆ¾Â·<Â´Â¨Â·â¥ŠÂ·<Ë˜2âŠ¸â†•)âŠ¸(-Ëœ)"# scan sum" util.Debug+`pathâˆŠ"LRâ†’"
  "route" util.Debug Â¯1âŠ¸(util.ParseIntâˆ˜â†“â‹ˆâŠ‘)Â¨((0âˆ¾Â·<Â´Â¨Â·â¥ŠÂ·<Ë˜2âŠ¸â†•)âŠ¸(-Ëœ)+`pathâˆŠ"LRâ†’")âŠ”path
  route â† Â¯1âŠ¸(util.ParseIntâˆ˜â†“â‹ˆ{-Â¬âŠ‘"Lâ†’R"âŠ¸âŠğ•©}âˆ˜âŠ‘)Â¨((0âˆ¾Â·<Â´Â¨Â·â¥ŠÂ·<Ë˜2âŠ¸â†•)âŠ¸(-Ëœ)+`pathâˆŠ"LRâ†’")âŠ”path
  "start" util.Debug start â† 0âˆ¾âŠ‘"."âŠ’Ëœ1âŠmap
  "check" util.Debug startâŠ‘map
  Move â† {distâ€¿turn ğ•Š locâ€¿dir :
    vec â† dirâŠ‘âŸ¨Â¯1â€¿0,0â€¿1,1â€¿0,0â€¿Â¯1âŸ©
    {
      '.'â‰¡(n â† vec+loc)âŠ‘map ? loc â†© nâ‹„ -Â¬ğ•© ;
      '#'â‰¡(n â† vec+loc)âŠ‘map ? "blocked at" util.Debug loc â‹„ 0 ;
      loc â†© loc Warp vec
      '.'â‰¡locâŠ‘map ? -Â¬ğ•© ;
      '#'â‰¡locâŠ‘map ? 0
    }â€¢_while_(0âŠ¸<)dist
    "move to" util.Debug loc
    âŸ¨loc, 4âŒŠdir+turnâŸ©
  }
  startâ€¿1 MoveÂ´âŒ½route
}
