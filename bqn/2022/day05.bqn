#!/usr/bin/env cbqn
âŸ¨color,ParseInts, DataFileâŸ© â† â€¢Import "../lib.bqn"
data â† â€¢Flines "data/2022/input-day05.txt" DataFile â€¢args
âŸ¨header,linesâŸ© â† âŸ¨âŸ¨âŸ©âŸ©âŠ¸(âŠ‘âŠËœ)âŠ¸(â†‘â‹ˆâ†“)data
â€¢Out color.green color.Fmt init â† âŸ¨âŸ¨âŸ©âŸ©âˆ¾(Â¯1âŠ¸â†“)Â¨(âŸ¨âŸ©âŠ¸â‰¢)Â¨âŠ¸/((' 'âŠ¸â‰ )Â¨âŠ¸/)Â¨<Ë˜ â‰âŸ¨â‰ header,âˆ˜âŸ©â¥Šâˆ¾{ğ•©(âŠ‘âˆŠ)" []" ? ' ';ğ•©}Â¨Â¨header
â€¢Out color.green color.Fmt 5â†‘actions â† ParseIntsÂ¨1â†“lines
Part1 â† {
	âŸ¨0,from,toâŸ© F state: state;
	âŸ¨amount,from,toâŸ© F state: {
		stack1 â† fromâŠ‘state
		âŸ¨val,droppedâŸ© â† (âŠ‘â‹ˆ(1âŠ¸â†“))stack1
		stack2 â† toâŠ‘state
		pushed â† (<val)âˆ¾stack2
		state â† pushedË™âŒ¾(toâŠ¸âŠ‘) droppedË™âŒ¾(fromâŠ¸âŠ‘) state
		âŸ¨1-Ëœamount,from,toâŸ© F state
	}
}
â€¢Show(âŠ‘Â¨1âŠ¸â†“)init Part1Â´ âŒ½actions
Part2 â† { âŸ¨amount,from,toâŸ© F state:
	âŸ¨val,droppedâŸ© â† amount(â†‘â‹ˆâ†“)fromâŠ‘state
	(valâŠ¸âˆ¾)âŒ¾(toâŠ¸âŠ‘)droppedË™âŒ¾(fromâŠ¸âŠ‘)state
}
â€¢Show(âŠ‘Â¨1âŠ¸â†“)init Part2Â´âŒ½actions
