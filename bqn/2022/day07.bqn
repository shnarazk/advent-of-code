#!/usr/bin/env cbqn
âŸ¨color,DataFile,ParseInts,StartsWithâŸ© â† â€¢Import "../lib.bqn"
# lines â† (âŠ‘ParseInts)Â¨ â€¢FLines "bqn/2022/input-day07.txt" DataFile â€¢args # This file was created by a Rust program :-)
# â€¢Show +Â´(100000âŠ¸â‰¥)Â¨âŠ¸/ lines
# used â† âŒˆÂ´ lines
# need â† used - 40000000 
# â€¢Show âˆ§(needâŠ¸â‰¤)Â¨âŠ¸/ lines
lines â† âˆ§â€¢FLines "bqn/2022/input-day07.txt" DataFile â€¢args
# â€¢Show lines
dirs â†(âŠ‘","âŠ¸(âŠ’Ëœ))âŠ¸(â†‘â‹ˆ(â€¢BQN(1âŠ¸+âŠ¸â†“)))Â¨ lines
â€¢Show sample â† 4âŠ‘dirs
ComponentsOf â† {(ğ•©Ë™(StartsWithËœ)âŠ‘)Â¨âŠ¸/dirs}
eachDir â† (âŠ‘â‹ˆ(+Â´âˆ˜((1âŠ¸âŠ‘)Â¨)âˆ˜ComponentsOfâŠ‘))Â¨ dirs
â€¢Show +Â´(1âŠ¸âŠ‘)Â¨(100000â‰¥1âŠ¸âŠ‘)Â¨âŠ¸/ eachDir
â€¢Show dirSizes â† {ğ•Š aâ€¿b: bâ€¿a}Â¨ eachDir

â€¢Out color.blue color.Fmt "used"â‹ˆ1âŠ¸âŠ‘âŠ‘("/"âŠ¸â‰¡âŠ‘)Â¨âŠ¸/eachDir
â€¢Out color.blue color.Fmt "free"â‹ˆfree â† 70000000-1âŠ¸âŠ‘âŠ‘("/"âŠ¸â‰¡âŠ‘)Â¨âŠ¸/eachDir
â€¢Out color.blue color.Fmt "to be freed"â‹ˆrequired â† 30000000 - free
â€¢Out color.blue color.Fmt âŠ‘âˆ§(requiredâŠ¸<âŠ‘)Â¨âŠ¸/dirSizes
â€¢Show âŠ‘âŠ‘âˆ§(requiredâŠ¸<âŠ‘)Â¨âŠ¸/dirSizes
