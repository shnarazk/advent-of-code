#!/usr/bin/env cbqn
lib â† â€¢Import "../lib.bqn"
lines â† â€¢Flines "data/2022/input-day15.txt" lib.DataFile âŸ¨âŸ© # â€¢args
data â† (lib.ParseInts{âˆŠâŸœ("-,:"âˆ¾'0'+Â¨â†•10)}âŠ¸/)Â¨ lines
Mdist â† { âŸ¨sx,syâŸ© ğ•Š âŸ¨bx,byâŸ©: (sx-bx)+â—‹|(sy-by) }
Band â† { target_y ğ•Š âŸ¨sx,sy,bx,byâŸ©:
  d â† âŸ¨sx,syâŸ© Mdist âŸ¨bx,byâŸ©
  dx â† d-|target_y-sy
  { 0 â‰¤ dx ? âŸ¨sx-dx,sx+dxâŸ©; âŸ¨âŸ© }
}
F â† { âŸ¨s, eâŸ© ğ•Š âŸ¨total, start, endâŸ© :
 { s â‰¤ end ? âŸ¨total, start, eâŒˆendâŸ©; âŸ¨total + end - start + 1, s, eâŸ© } }
â€¢Show âˆ˜â€¿1â¥Š b â† âˆ¨(0<â‰ )Â¨âŠ¸/ 2000000 (BandÂ¨) data
â€¢Show on_mark â† â‰ â·{âŸ¨2âŠ‘ğ•©,3âŠ‘ğ•©âŸ©}Â¨((2000000âŠ¸=)âˆ˜(3âŠ¸âŠ‘))Â¨âŠ¸/ data
â€¢Show on_mark + { 0âŠ‘ğ•© + 2âŠ‘ğ•© - 1âŠ‘ğ•© + 1} âŸ¨0, 0âŠ‘Â¯1âŠ‘b, 1âŠ‘Â¯1âŠ‘bâŸ©FÂ´b
