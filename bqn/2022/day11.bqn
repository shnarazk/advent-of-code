#!/usr/bin/env cbqn
lib â† â€¢Import "../lib.bqn"
âŸ¨dataâŸ© â‡
lines â† â€¢FLines "data/2022/input-day11.txt" lib.DataFile â€¢args
{k â† 7-7|â‰ linesâ‹„ 0<k ? lines â†© lines âˆ¾ âŸ¨âŸ©Ë™Â¨â†•k; @}
Convert â† { ğ•Š noâ€¿itemsâ€¿updateâ€¿testâ€¿thenâ€¿elseâ€¿end:
  u â† 19â†“update
  âŸ¨
    lib.ParseInts items,
    {2=+Â´("old"âŠ¸(lib.StartsWithËœ))Â¨â†“u ? Â¯1 ; lib.ParseInt u},
    âŠ‘"+"âˆŠu,
    âŠ‘"*"âˆŠu,
    lib.ParseInt test,
    lib.ParseInt then,
    lib.ParseInt else,
  âŸ©
} 
â€¢Show data â† ConvertË˜âˆ˜â€¿7 â¥Šlines
