Solve â‡ {envâ€¿part ğ•Š data :
  util â† â€¢Import "/util.bqn"âˆ¾Ëœ "," env.VarâŒ¾â‹ˆ "BQN_LIB"
  lines â† >(Â¯5âŠ¸â†“â‹ˆÂ¯4âŠ¸â†‘)Â¨(" "âŠ¸util.Tokenize)Â¨data
  Common â† {((Â¯1+â‰ ğ•©)=âŠ’)âŠ¸/âˆ¾ğ•©}
  "Common abeâ€¿aceâ€¿bce"!'e'â‰¡âŠ‘Common "abe"â€¿"ace"â€¿"bce"
  Diff â† {common â† Common ğ•© â‹„ (Â¬âˆ˜âŠ‘âˆŠâŸœcommonËœ)Â¨âŠ¸/â·âˆ¾ğ•©}
  "Diff abeâ€¿aceâ€¿bce"!"abc"â‰¡Diff "abe"â€¿"ace"â€¿"bce"
  {
    1=part ? util.Debug +Â´â‰ Â¨(<Â·(âŠ‘âŸ¨2,4,3,7âŸ©âˆŠËœâ‰ )Â¨âŠ¸/1âŠ¸âŠ‘)â‰1 lines ;
    segments â† {âŸ¨âˆ§Â¨Â¨â‰ Â¨âŠ¸âŠ”ğ•¨,ğ•©âŸ©}Â´Ë˜(-âŸœ'a'Ëœ)Â¨lines
    # 5-segment digits: 2,3,5 â†’ common segments: adg
    # 6-segment digits: 0,6,9 â†’ common segmests: abfg
    # So all 5-or-6 segments digits contains âŸ¨a,gâŸ©
    # but  a is induced from âŸ¨3-segment digitâŸ© - âŸ¨2-segment digitâŸ©
    +Â´â¥Š{ğ•Š dgâ€¿output :
      !1=â‰ DiffâŠ‘Â¨2â€¿3âŠdg
      a â† âŠ‘DiffâŠ‘Â¨2â€¿3âŠdg
      !1=â‰ DiffâŸ¨aâŸ©â‹ˆCommon(5âŠ‘dg)âˆ¾6âŠ‘dg
      g â† âŠ‘DiffâŸ¨aâŸ©â‹ˆCommon(5âŠ‘dg)âˆ¾6âŠ‘dg
      !1=â‰ DiffâŸ¨a,gâŸ©â‹ˆ Common 5âŠ‘dg
      d â† âŠ‘DiffâŸ¨a,gâŸ©â‹ˆ Common 5âŠ‘dg
      !1=â‰ DiffâŸ¨dâŸ©â‹ˆDiffâŠ‘Â¨2â€¿4âŠdg
      b â† âŠ‘DiffâŸ¨dâŸ©â‹ˆDiffâŠ‘Â¨2â€¿4âŠdg
      !1=â‰ DiffâŸ¨gâŸ©â‹ˆDiff(â†•7)â‹ˆâ·âˆ¾âŠ‘Â¨3â€¿4âŠdg
      e â† âŠ‘DiffâŸ¨gâŸ©â‹ˆDiff(â†•7)â‹ˆâ·âˆ¾âŠ‘Â¨3â€¿4âŠdg
      !1=â‰ DiffâŸ¨a,b,gâŸ©â‹ˆ Common 6âŠ‘dg
      f â† âŠ‘DiffâŸ¨a,b,gâŸ©â‹ˆ Common 6âŠ‘dg
      c â† âŠ‘DiffâŸ¨a,b,d,e,f,gâŸ©â‹ˆâ†•7
      !(â†•7)â‰¡âˆ§âŸ¨a,b,c,d,e,f,gâŸ©
      "# sum" util.Debug 0{ğ•¨+10Ã—ğ•©}Â´âŒ½{
        âŸ¨a,b,c,e,f,gâŸ©â‰¡â—‹âˆ§ğ•© ? 0 ;
        âŸ¨c,fâŸ©â‰¡â—‹âˆ§ğ•© ? 1 ;
        âŸ¨a,c,d,e,gâŸ©â‰¡â—‹âˆ§ğ•© ? 2 ;
        âŸ¨a,c,d,f,gâŸ©â‰¡â—‹âˆ§ğ•© ? 3 ;
        âŸ¨b,c,d,fâŸ©â‰¡â—‹âˆ§ğ•© ? 4 ;
        âŸ¨a,b,d,f,gâŸ©â‰¡â—‹âˆ§ğ•© ? 5 ;
        âŸ¨a,b,d,e,f,gâŸ©â‰¡â—‹âˆ§ğ•© ? 6 ;
        âŸ¨a,c,fâŸ©â‰¡â—‹âˆ§ğ•© ? 7 ;
        âŸ¨a,b,c,d,e,f,gâŸ©â‰¡â—‹âˆ§ğ•© ? 8 ;
        âŸ¨a,b,c,d,f,gâŸ©â‰¡â—‹âˆ§ğ•© ? 9 ;
        "strange in output" util.Debug output
        (âŸ¨a,b,c,d,d,e,fâŸ©âˆŠğ•©)!0
      }Â¨output
    }Ë˜segments
  }
}
