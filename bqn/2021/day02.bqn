Part1Move â† {
    'D'â€¿val F xâ€¿y : x      â€¿(y+val) ;
    'U'â€¿val F xâ€¿y : x      â€¿(y-val) ;
    'F'â€¿val F xâ€¿y : (x+val)â€¿y
}
Part2Move â† {
    'D'â€¿val F xâ€¿yâ€¿aim : x      â€¿y          â€¿(aim+val) ;
    'U'â€¿val F xâ€¿yâ€¿aim : x      â€¿y          â€¿(aim-val) ;
    'F'â€¿val F xâ€¿yâ€¿aim : (x+val)â€¿(y+aimÃ—val)â€¿aim
}

Solve â‡ {envâ€¿part ğ•Š data :
    lib â† â€¢Import"/util.bqn"âˆ¾Ëœâˆ¾env.Var<"BQN_LIB"
    Encode â† {
        ğ•© lib.StartsWith "forward" ? 'F'â€¿(â€¢BQN 7â†“ğ•©) ;
        ğ•© lib.StartsWith "down"    ? 'D'â€¿(â€¢BQN 5â†“ğ•©) ;
        ğ•© lib.StartsWith "up"      ? 'U'â€¿(â€¢BQN 3â†“ğ•©) ;
                                     ğ•©!0
    }
    {
        1=part ? Ã—Â´     0â€¿0 Part1MoveÂ´âŒ½EncodeÂ¨data ;
        2=part ? Ã—Â´ 2â†‘0â€¿0â€¿0 Part2MoveÂ´âŒ½EncodeÂ¨data ;
                 !0
    }
}
