#!/usr/bin/env cbqn

StartsWith â† { (â‰ ğ•¨) < (â‰ ğ•©) ? 0 ; 0 = (<Ë˜(â‰ ğ•©)â†•ğ•¨) âŠ‘âˆ˜âŠâŸœ< ğ•© }
Encode â† {
    line â† > ğ•©
    {
        (line StartsWith "forward") ? 'F'â€¿(â€¢BQN 7â†“line);
        (line StartsWith "down"   ) ? 'D'â€¿(â€¢BQN 5â†“line);
        (line StartsWith "up"     ) ? 'U'â€¿(â€¢BQN 3â†“line);
        '?'â€¿0
    }
}
Part1Move â† { âŸ¨key, valâŸ© F âŸ¨x, yâŸ© :
    {
        'D' = key ? x       â€¿ (y+val);
        'U' = key ? x       â€¿ (y-val);
        'F' = key ? (x+val) â€¿ y;
        keyâ€¿val ! 0
    }
}
Part2Move â† {âŸ¨key, valâŸ© F âŸ¨x, y, aimâŸ© :
    {
        'D' = key ? x       â€¿ y           â€¿ (aim+val);
        'U' = key ? x       â€¿ y           â€¿ (aim-val);
        'F' = key ? (x+val) â€¿ (y+aimÃ—val) â€¿ aim;
        keyâ€¿val ! 0
    }
}

input â† âŸ¨
    "forward 5",
    "down 5",
    "forward 8",
    "up 3",
    "down 8",
    "forward 2",
âŸ©

â€¢Show input
# â€¢Show (âŠ‘ input) StartsWith "forward "
orders â† (<Encode)Ë˜ input
â€¢Show orders
â€¢Show Ã—Â´ 0â€¿0 Part1MoveÂ´ âŒ½ orders
â€¢Show Ã—Â´ 0â€¿0 Part1MoveÂ´ âŒ½ (<Encode)Ë˜ â€¢FLines "../data/2021/input-day02.txt"
â€¢Show Ã—Â´ 2â†‘ 0â€¿0â€¿0 Part2MoveÂ´ âŒ½ (<Encode)Ë˜ â€¢FLines "../data/2021/input-day02.txt"
