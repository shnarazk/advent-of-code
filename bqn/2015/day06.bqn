Solve â‡ {envâ€¿part ğ•Š data :
  utilâ€¿geo â† â€¢ImportÂ¨"/util.bqn"â€¿"/geometry.bqn"âˆ¾ËœÂ¨<"." env.VarâŒ¾â‹ˆ "BQN_LIB"
  "# data" util.Debug 54â†‘â‰â‰data ((âŸ¨"turn of","turn on", "toggle "âŸ©âŠ¸âŠâŒ¾<(7âŠ¸â†‘))â‹ˆutil.ParseInts)Â¨ â†©
  shape â† 1000â€¿1000
  {
    1=part ?
      +Â´â¥Š(0Â¨â†•shape){
        0â€¿âŸ¨y0,x0,y1,x1âŸ© ğ•Š v :
          mask â† (-y0â€¿x0) geo.Rotate shapeâ†‘1Â¨â†•âŸ¨y1Â¬y0,x1Â¬x0âŸ©
          mask Â¬âŠ¸âˆ§ ğ•© ;
        1â€¿âŸ¨y0,x0,y1,x1âŸ© ğ•Š v :
          mask â† (-y0â€¿x0) geo.Rotate shapeâ†‘1Â¨â†•âŸ¨y1Â¬y0,x1Â¬x0âŸ©
          mask âˆ¨ ğ•© ;
        2â€¿âŸ¨y0,x0,y1,x1âŸ© ğ•Š v :
          mask â† (-y0â€¿x0) geo.Rotate shapeâ†‘1Â¨â†•âŸ¨y1Â¬y0,x1Â¬x0âŸ©
          (mask âˆ§âŸœÂ¬ ğ•©)âˆ¨(maskÂ¬âŠ¸âˆ§ ğ•©)
      }Â´âŒ½data
      ;
    +Â´â¥Š(0Â¨â†•shape){
      0â€¿âŸ¨y0,x0,y1,x1âŸ© ğ•Š v :
        mask â† (-y0â€¿x0) geo.Rotate shapeâ†‘1Â¨â†•âŸ¨y1Â¬y0,x1Â¬x0âŸ©
        0âŒˆmask-Ëœğ•© ;
      1â€¿âŸ¨y0,x0,y1,x1âŸ© ğ•Š v :
        mask â† (-y0â€¿x0) geo.Rotate shapeâ†‘1Â¨â†•âŸ¨y1Â¬y0,x1Â¬x0âŸ©
        mask+ğ•© ;
      2â€¿âŸ¨y0,x0,y1,x1âŸ© ğ•Š v :
        mask â† (-y0â€¿x0) geo.Rotate shapeâ†‘1Â¨â†•âŸ¨y1Â¬y0,x1Â¬x0âŸ©
        (2Ã—mask)+ğ•©
    }Â´âŒ½data
  }
}
