Solve â‡ {envâ€¿part ğ•Š data :
  utilâ€¿geo â† â€¢ImportÂ¨"/util.bqn"â€¿"/geometry.bqn"âˆ¾ËœÂ¨<"." env.VarâŒ¾â‹ˆ "BQN_LIB"
  data ((âŸ¨"turn of","turn on", "toggle "âŸ©âŠ¸âŠâŒ¾<(7âŠ¸â†‘))â‹ˆutil.ParseInts)Â¨ â†©
  shape â† 1000â€¿1000
  +Â´â¥Š{
    1=part ?
      (0Â¨â†•shape){
        0â€¿âŸ¨y0,x0,y1,x1âŸ© ğ•Š v : ğ•©âˆ§âŸœÂ¬(-y0â€¿x0) geo.Rotate shapeâ†‘1Â¨â†•âŸ¨y1Â¬y0,x1Â¬x0âŸ© ;
        1â€¿âŸ¨y0,x0,y1,x1âŸ© ğ•Š v : ğ•©âˆ¨(-y0â€¿x0) geo.Rotate shapeâ†‘1Â¨â†•âŸ¨y1Â¬y0,x1Â¬x0âŸ© ;
        2â€¿âŸ¨y0,x0,y1,x1âŸ© ğ•Š v : ğ•©((Â¬âŠ¸âˆ§)âˆ¨(âˆ§âŸœÂ¬))(-y0â€¿x0) geo.Rotate shapeâ†‘1Â¨â†•âŸ¨y1Â¬y0,x1Â¬x0âŸ©
      }Â´âŒ½data
    ;
      (0Â¨â†•shape){
        0â€¿âŸ¨y0,x0,y1,x1âŸ© ğ•Š v : 0âŒˆğ•©-(-y0â€¿x0) geo.Rotate shapeâ†‘1Â¨â†•âŸ¨y1Â¬y0,x1Â¬x0âŸ© ;
        1â€¿âŸ¨y0,x0,y1,x1âŸ© ğ•Š v : ğ•©+(-y0â€¿x0) geo.Rotate shapeâ†‘1Â¨â†•âŸ¨y1Â¬y0,x1Â¬x0âŸ© ;
        2â€¿âŸ¨y0,x0,y1,x1âŸ© ğ•Š v : ğ•©+2Ã—(-y0â€¿x0) geo.Rotate shapeâ†‘1Â¨â†•âŸ¨y1Â¬y0,x1Â¬x0âŸ©
      }Â´âŒ½data
  }
}
